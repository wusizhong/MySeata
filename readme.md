参考资料
https://www.cnblogs.com/charkey/p/17388418.html

主要工作原理：
1、分布式框架主要包含全局事务组件和事务管理器
2、全局事务组件用来创建全局事务和注册分支事务，事务管理器用来保存全局事务和分支事务，以及提交和回滚全局事务
3、A程序调用B程序，A程序创建全局事务组，A将事务组的groupId传给B程序,B程序注册分支事务
4、事务管理器统计并计算事务组中各个子事务的状态，决定是否提交或回滚全局事务组

注意点：重写connection的commit，commit什么都不做，开启一个线程等待（通过每个分支事务里的锁）全局事务的提交或回滚